!function($){function e(){for(var e=this;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}function a(e){e.find(".menu-item-has-children > a, .page_item_has_children > a").after('<button class="dropdown-toggle" aria-expanded="false">'+screenReaderText.expand+"</button>"),e.find(".current-menu-ancestor > button").addClass("toggle-on"),e.find(".current-menu-ancestor > .sub-menu").addClass("toggled-on"),e.find(".dropdown-toggle").click(function(e){var a=$(this);e.preventDefault(),a.toggleClass("toggle-on"),a.next(".children, .sub-menu").toggleClass("toggled-on"),a.attr("aria-expanded","false"===a.attr("aria-expanded")?"true":"false"),a.html(a.html()===screenReaderText.expand?screenReaderText.collapse:screenReaderText.expand)})}var t,n,s,r,o;if(t=document.getElementById("site-navigation"),t&&(n=t.getElementsByTagName("button")[0],"undefined"!=typeof n)){if(s=t.getElementsByTagName("ul")[0],"undefined"==typeof s)return void(n.style.display="none");s.setAttribute("aria-expanded","false"),-1===s.className.indexOf("nav-menu")&&(s.className+=" nav-menu"),n.onclick=function(){-1!==t.className.indexOf("toggled")?(t.className=t.className.replace(" toggled",""),n.setAttribute("aria-expanded","false"),s.setAttribute("aria-expanded","false")):(t.className+=" toggled",n.setAttribute("aria-expanded","true"),s.setAttribute("aria-expanded","true"))},r=s.getElementsByTagName("a"),o=s.getElementsByTagName("ul");for(var d=0,l=o.length;l>d;d++)o[d].parentNode.setAttribute("aria-haspopup","true");for(d=0,l=r.length;l>d;d++)r[d].addEventListener("focus",e,!0),r[d].addEventListener("blur",e,!0);a($(".main-navigation")),$(document).on("customize-preview-menu-refreshed",function(e,t){"primary"===t.wpNavMenuArgs.theme_location&&(a(t.newContainer),t.oldContainer.find(".dropdown-toggle.toggle-on").each(function(){var e=$(this).parent().prop("id");$(t.newContainer).find("#"+e+" > .dropdown-toggle").triggerHandler("click")}))});var i,u,c;$(window).scroll(function(){$(this).scrollTop()>=i?(u="down",u!==c&&($(".menu-toggle").addClass("hide"),c=u)):(u="up",u!==c&&($(".menu-toggle").removeClass("hide"),c=u)),i=$(this).scrollTop()})}}(jQuery);